<?xml version="1.0" encoding="windows-1252" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Dec 12, 2009 5:37:11 PM-->
<project name="OlivSoftDesktop" default="all" basedir=".">
  <property file="build.properties"/>
  <path id="library.Comm.API">
    <pathelement location="../all-3rd-party/rxtx.distrib/RXTXcomm.jar"/>
  </path>
  <path id="library.Chartcomponents.jar">
    <pathelement location="../ChartComponents/deploy/chartcomponents.jar"/>
    <pathelement location="../GenerateLocator/deploy/googlelocator.jar"/>
  </path>
  <path id="library.Tides.jar">
    <pathelement location="../TideEngine/deploy/tideengine.jar"/>
    <pathelement location="../TideEngineImplementation/deploy/tideengineimplementation.jar"/>
  </path>
  <path id="library.Chartlib.jar">
    <pathelement location="../ChartLib/deploy/chartlib.jar"/>
  </path>
  <path id="library.Coreutilities.jar">
    <pathelement location="../CoreUtilities/deploy/coreutilities.jar"/>
  </path>
  <path id="library.Geomutil.jar">
    <pathelement location="../GeomUtil/deploy/geomutil.jar"/>
  </path>
  <path id="library.Nmeaparser.jar">
    <pathelement location="../NMEAParser/deploy/nmeaparser.jar"/>
  </path>
  <path id="library.Nmeahttplogger.jar">
    <pathelement location="../NMEAReader/deploy/nmeareader.jar"/>
    <pathelement location="../NMEA_RMIserver/deploy/nmearmiserver.jar"/>
  </path>
  <path id="library.Nauticalalmanac.jar">
    <pathelement location="../NauticalAlmanac/deploy/nauticalalmanac.jar"/>
    <pathelement location="../AlmanacRelatedTools/deploy/almanactools.jar"/>
    <pathelement location="../NightSky/deploy/nightsky.jar"/>
  </path>
  <path id="library.Sailfax.jar">
    <pathelement location="../SailFax/deploy/sailfax.jar"/>
  </path>
  <path id="library.AlmanacTools.jar">
    <!--pathelement location="../AlmanacRelatedTools/deploy/almanactools.jar"/-->
    <pathelement location="C:/OlivSoft/all-libs/almanactools.jar"/>
  </path>
  <path id="library.Oracle.XML.Parser.v2">
    <pathelement location="../all-3rd-party/xmlparserv2.jar"/>
  </path>
  <path id="library.hSQL">
    <pathelement location="../all-3rd-party/hsqldb.jar"/>
  </path>
  <path id="classpath">
    <path refid="library.Comm.API"/>
    <path refid="library.Chartcomponents.jar"/>
    <path refid="library.Chartlib.jar"/>
    <path refid="library.Coreutilities.jar"/>
    <path refid="library.Geomutil.jar"/>
    <path refid="library.Nmeaparser.jar"/>
    <path refid="library.Nmeahttplogger.jar"/>
    <path refid="library.Nauticalalmanac.jar"/>
    <path refid="library.Sailfax.jar"/>
    <path refid="library.AlmanacTools.jar"/>
    <path refid="library.Oracle.XML.Parser.v2"/>
    <path refid="library.hSQL"/>
    <path refid="library.Tides.jar"/>
  </path>
  <target name="init">
    <tstamp/>
    <mkdir dir="${output.dir}"/>
  </target>
  <target name="all" description="Build the project" depends="compile,copy,archive,zip-source"/>
  <target name="clean" description="Clean the project">
    <delete includeemptydirs="true" quiet="true">
      <fileset dir="${output.dir}" includes="**/*"/>
    </delete>
  </target>
  <target name="compile" description="Compile Java source files" depends="init">
    <javac destdir="${output.dir}" classpathref="classpath"
           debug="${javac.debug}" nowarn="${javac.nowarn}" 
           deprecation="${javac.deprecation}" encoding="Cp1252" source="1.6"
           target="1.6">
      <compilerarg value="-Xlint:unchecked"/>
      <!--compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter" value="-g"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter" value="-warn"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:320"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:372"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:412"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:413"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:415"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:486"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:487"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:489"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:556"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:558"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:560"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:561"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-nowarn:705"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-Xlint:-fallthrough"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-Xlint:-serial"/>
      <compilerarg compiler="oracle.ojc.ant.taskdefs.OjcAdapter"
                   value="-Xlint:-unchecked"/-->
      <src path="src"/>
    </javac>
  </target>
  <target name="copy" description="Copy files to output directory"
          depends="init">
    <patternset id="copy.patterns">
      <include name="**/*.gif"/>
      <include name="**/*.jpg"/>
      <include name="**/*.jpeg"/>
      <include name="**/*.png"/>
      <include name="**/*.properties"/>
      <include name="**/*.xml"/>
      <include name="**/*-apf.xml"/>
      <include name="**/*.ejx"/>
      <include name="**/*.xcfg"/>
      <include name="**/*.cpx"/>
      <include name="**/*.dcx"/>
      <include name="**/*.sva"/>
      <include name="**/*.wsdl"/>
      <include name="**/*.ini"/>
      <include name="**/*.tld"/>
      <include name="**/*.tag"/>
      <include name="**/*.xlf"/>
      <include name="**/*.xsl"/>
      <include name="**/*.xsd"/>
    </patternset>
    <copy todir="${output.dir}">
      <fileset dir="src">
        <patternset refid="copy.patterns"/>
      </fileset>
    </copy>
  </target>
  <target name="archive" depends="compile">
    <exec executable="cmd" output="manifest.mf" append="false" os="Windows XP">
      <arg value="/c"/>
      <arg value="echo"/>
      <arg value="Compile-Date:"/>
      <arg value="%DATE%"/>
      <arg value="%TIME%"/>
    </exec>
    <jar destfile="deploy/desktop.jar" compress="true" manifest="manifest.mf">
      <fileset dir="classes">
        <exclude name="**/*.cdi"/>
      </fileset>
    </jar>
    <copy todir="../all-libs" file="deploy/desktop.jar"/>
  </target>
  <target name="zip-source"
          description="Archive the Sources">
    <mkdir dir="../all-src"/>
    <zip basedir="." destfile="../all-src/desktop.zip">    
      <include name="src/**/*"/>
      <include name="build.*"/>
    </zip>
  </target>
</project>
